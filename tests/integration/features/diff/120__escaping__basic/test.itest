RUN: cd %S && %strictdoc diff %S/lhs %S/rhs --output-dir %T

RUN: cat %T/diff.html | filecheck %s --dump-input=fail --check-prefix=CHECK-DIFF

CHECK-DIFF:<span class="document_title">Doc Title with special characters &lt;&gt;</span>
CHECK-DIFF:<span>Doc Title with</span><span> special characters &lt;&gt;</span></div>
CHECK-DIFF:To be removed section with special characters &lt;&gt;
CHECK-DIFF:To be removed section with special characters &lt;&gt;
CHECK-DIFF:To be removed title with special characters &lt;&gt;
CHECK-DIFF:To be removed title with special characters &lt;&gt;
CHECK-DIFF:To be removed statement with special characters &lt;&gt;
CHECK-DIFF:To be changed section with special characters &lt;&gt;
CHECK-DIFF:To be c</span><span>hanged section with</span><span> special characters &lt;&gt;
CHECK-DIFF:To be changed title with special characters &lt;&gt;
CHECK-DIFF:To be c</span><span>hanged title with</span><span> special characters &lt;&gt;
CHECK-DIFF:To be c</span><span>hanged statement with </span><span>special characters &lt;&gt;

CHECK-DIFF:<span class="document_title">Doc Title with more special characters &lt;&gt;&amp;&#34;&#39;</span>
CHECK-DIFF:<span>Doc Title with</span><span class="lambda_green"> more</span><span> special characters &lt;&gt;</span><span class="lambda_green">&amp;&#34;&#39;</span></div>
CHECK-DIFF:Added section with more special characters &lt;&gt;&amp;&#34;&#39;
CHECK-DIFF:Added section with more special characters &lt;&gt;&amp;&#34;&#39;
CHECK-DIFF:Added title with more special characters &lt;&gt;&amp;&#34;&#39;
CHECK-DIFF:Added title with more special characters &lt;&gt;&amp;&#34;&#39;
CHECK-DIFF:Added statement with more special characters &lt;&gt;&amp;&#34;&#39;
CHECK-DIFF:Changed section with more special characters &lt;&gt;&amp;&#34;&#39;
CHECK-DIFF:<span class="lambda_green">C</span><span>hanged section with</span><span class="lambda_green"> more</span><span> special characters &lt;&gt;</span><span class="lambda_green">&amp;&#34;&#39;</span>
CHECK-DIFF:Changed title with more special characters &lt;&gt;&amp;&#34;&#39;
CHECK-DIFF:<span class="lambda_green">C</span><span>hanged title with</span><span class="lambda_green"> more</span><span> special characters &lt;&gt;</span><span class="lambda_green">&amp;&#34;&#39;</span></span>
CHECK-DIFF:<span class="lambda_green">C</span><span>hanged statement with </span><span class="lambda_green">more </span><span>special characters &lt;&gt;</span><span class="lambda_green">&amp;&#34;&#39;</span></span>
