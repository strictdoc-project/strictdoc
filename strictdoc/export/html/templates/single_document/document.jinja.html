{% set template_type = 'Document' %}

{% extends "base.jinja.html" %}

{% block head_scripts %}
  <script type="text/javascript" src="{{link_renderer.render_static_url('viewtype_menu.js')}}"></script>
  <script type="text/javascript" src="{{link_renderer.render_static_url('toc.js')}}"></script>

  {%- if config.is_running_on_server -%}
  <script type="module">
      import hotwiredTurbo from "{{link_renderer.render_static_url('turbo.js')}}";
      import { Application } from "{{link_renderer.render_static_url('stimulus.js')}}";
      window.Stimulus = Application.start();
  </script>
  <script type="module" src="{{link_renderer.render_static_url('controllers/collapsible_list_controller.js')}}"></script>
  <script type="module" src="{{link_renderer.render_static_url('controllers/editable_field_controller.js')}}"></script>
  <script type="module" src="{{link_renderer.render_static_url('controllers/dropdown_menu_controller.js')}}"></script>
  <script type="module" src="{{link_renderer.render_static_url('controllers/requirement_multiline_field_controller.js')}}"></script>
  <script type="module" src="{{link_renderer.render_static_url('controllers/document_grammar_form_controller.js')}}"></script>
  {%- endif -%}

  {%- if config.enable_mathjax -%}
  <script id="MathJax-script" async src="{{link_renderer.render_static_url('mathjax/tex-mml-chtml.js')}}"></script>
  {%- endif -%}
  {{ super() }}
{% endblock head_scripts %}
{% block title %}{{document.title}} - {{ template_type }}{% endblock title %}
{% block viewtype %}document{% endblock %}
{% block withtoc %}withtoc{% endblock %}

{% block layout_nav %}
  {%- if not standalone -%}
  {% include "_shared/nav.jinja.html" %}
  {%- endif -%}
{% endblock layout_nav %}

{% block toc_content %}
  {% include "_shared/toc.jinja.html" %}
{% endblock toc_content %}


{% block header_content %}
<div class="header">
  {% include "_shared/document_header.jinja.html" %}
  {%- if config.is_running_on_server -%}
  <div class="header__r">
  <div class="actions_group">
    <a class="action_button" aria-disabled="true">
      Edit document
    </a>
    {# <button type="button" disabled class="action_button">
      Edit document
    </button> #}
    <a class="action_button" href="/reqif/export_document/{{document.node_id}}">
      Export to ReqIF
    </a>
  </div>
  </div>
  {%- endif -%}
</div>
{% endblock header_content %}

{% block content %}
  {% include "single_document/frame_document_content.jinja.html" %}
{% endblock content %}
