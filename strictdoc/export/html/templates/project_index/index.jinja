{% set template_type = "Project index" %}

{% extends "base.jinja.html" %}

{% block head_css %}
  {{ super() }}
  <link rel="stylesheet" href="{{link_renderer.render_static_url('tree.css')}}"/>
{% endblock head_css %}

{% block head_scripts %}
{%- if config.is_running_on_server -%}
  <script type="module">
    import hotwiredTurbo from "{{link_renderer.render_static_url_with_prefix('turbo.js')}}";
    import { Application } from "{{link_renderer.render_static_url_with_prefix('stimulus.js')}}";
    window.Stimulus = Application.start();
  </script>
  <script type="module" src="{{link_renderer.render_static_url('controllers/editable_field_controller.js')}}"></script>
  <script type="module" src="{{link_renderer.render_static_url('controllers/modal_controller.js')}}"></script>
{%- endif -%}
{% endblock head_scripts %}

{% block title %}
  {{ config.project_title }} - {{template_type}}
{% endblock title %}

{% block viewtype %}document-tree{% endblock %}

{% block layout_nav %}
  {% include "_shared/nav.jinja.html" %}
{% endblock layout_nav %}

{% block toc_content %}
{% endblock toc_content %}

{% block header_content %}
<div class="header">
  {% include "_shared/project_header.jinja.html" %}
    <div class="header__r">
      <div class="actions_group">
        {%- if config.is_running_on_server -%}
          {% include "project_index/project_index_actions.jinja.html" %}
        {%- endif -%}
      </div>
    </div>
</div>
{% endblock header_content %}

{% block content %}
  {% include "project_index/frame_project_tree.jinja.html" %}
{% endblock content %}
