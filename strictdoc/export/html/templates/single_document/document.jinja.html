{% extends "base.jinja.html" %}
{% block title %}Document{% endblock %}
{% block pagetype %}document{% endblock %}

{% block content %}
      <article class="view-document">

        {%- if document.free_texts -%}
        <section>
        {%- for free_text in document.free_texts %}
          <div class="free_text">
            {{ renderer.render_free_text(free_text) }}
          </div>
        {%- endfor -%}
        </section>
        {%- endif -%}

        {%- for section_or_requirement in document_iterator.all_content() %}
        <section id="{{ link_renderer.render(section_or_requirement) }}">
        {%- if section_or_requirement.is_requirement %}
          {%- set requirement = section_or_requirement %}
          {% with requirement_view_type='block' -%}
          {% include "_shared/requirement.jinja.html" %}
          {%- endwith %}

        {%- elif section_or_requirement.is_section %}
          {%- set section = section_or_requirement %}
          <h{{ section.ng_level }} class="section-title" data-level="{{ section.context.title_number_string }}">
            {{ section.title if section.title else '' }}
          </h{{ section.ng_level }}>

          {%- for free_text in section_or_requirement.free_texts %}
          <div class="free_text">
            {{ renderer.render_free_text(free_text) }}
          </div>
          {%- endfor -%}

        {%- endif %}
        </section>
        {%- endfor %}

      </article>
{% endblock content %}
