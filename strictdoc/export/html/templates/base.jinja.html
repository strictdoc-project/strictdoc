<!DOCTYPE html>
<html lang="en">

<head>
  {% block head %}
  <meta charset="UTF-8"/>
  <link rel="shortcut icon" href="{{document.meta.get_root_path_prefix()}}/_static/favicon.ico" type="image/x-icon"/>
  <link rel="icon" href="{{document.meta.get_root_path_prefix()}}/_static/favicon.ico" type="image/x-icon"/>
  {% block head_css %}
  <link rel="stylesheet" href="{{document.meta.get_root_path_prefix()}}/_static/_base.css"/>
  <link rel="stylesheet" href="{{document.meta.get_root_path_prefix()}}/_static/_layout.css"/>
  <link rel="stylesheet" href="{{document.meta.get_root_path_prefix()}}/_static/_content.css"/>
  <link rel="stylesheet" href="{{document.meta.get_root_path_prefix()}}/_static/_element.css"/>
  {% endblock head_css %}
  {# TODO  window.onload in all docs (toc, print, ...) #}
  {% block head_scripts %}
  <script type="text/javascript" src="{{document.meta.get_root_path_prefix()}}/_static/toc.js"></script>
  {% endblock head_scripts %}
  <title>{{document.name}} - {% block title %}{% endblock title %}</title>
  {% endblock head %}
</head>

<body class="{% block viewtype %}{% endblock %}">

  {%- set document_iterator = traceability_index.get_document_iterator(document) -%}

  <div class="layout" id="layout">

    <aside class="layout_aside-header">
      <div>Table of Contents</div>

      {%- if not standalone -%}
        <a class="index-link" href="{{document.meta.get_root_path_prefix()}}/index.html">To Index</a>
      {%- endif -%}
    </aside>

    <aside class="layout_aside">
      {% include "_shared/toc.jinja.html" %}
    </aside>

    <a class="layout_toggler layout_button" id="layout_toggle"></a>

    {%- if not standalone -%}
      {% include "_shared/nav.jinja.html" %}
    {%- endif -%}

    <header class="layout_header">
      <p>{{document.name}} <span class="document-view-type">{{ self.title() }}</span></p>
    </header>

    <main class="layout_main">
      {% block content %}{% endblock %}
    </main>

  </div>
  {% block scripts %}{% endblock %}
</body>
</html>