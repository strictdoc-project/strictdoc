{% extends "base.jinja.html" %}
{% block head_css %}
  {{ super() }}
  <link rel="stylesheet" href="{{document.meta.get_root_path_prefix()}}/_static/_print.css"/>
{% endblock head_css %}
{% block head_scripts %}
  {{ super() }}
  <script type="text/javascript" src="{{document.meta.get_root_path_prefix()}}/_static/_print.js"></script>
{% endblock head_scripts %}
{% block title %}Printable Document{% endblock %}
{% block viewtype %}pdf-view{% endblock %}

{% block content %}
  <div class="content">
    <div id="printableFlow" class="printable_flow">

      {% include "single_document_pdf/frontpage.jinja.html" %}

      <h3 class="printable">Table of contents</h3>
      {% include "_shared/toc.jinja.html" %}

      {%- if document.free_texts -%}
        <section><article>
          {%- for free_text in document.free_texts %}
          <div class="free_text printable">
            {{ renderer.render_free_text(free_text) }}
          </div>
          {%- endfor -%}
        </article></section>
      {%- endif -%}

      {%- for section_or_requirement in document_iterator.all_content() %}

        {%- if section_or_requirement.is_requirement %}
          {%- set requirement = section_or_requirement %}
          {%- with anchor=link_renderer.render_local_anchor(section_or_requirement), document_type="document" -%}
            {% include "_shared/requirement.jinja.html" %}
          {%- endwith %}

        {%- elif section_or_requirement.is_section %}

          {%- set section = section_or_requirement %}
          {%- with anchor=link_renderer.render_local_anchor(section_or_requirement) -%}
            {% include "_shared/docsection.jinja.html" %}
          {%- endwith %}
        {%- endif %}

      {%- endfor %}

    </div>
  </div>
{% endblock content %}

