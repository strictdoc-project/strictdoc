RUN: %strictdoc --debug export %S --output-dir %T | filecheck %s

CHECK: Published: Hello world doc

RUN: %check_exists --file "%T/html/_source_files/src/example/example.c.html"

RUN: %cat %T/html/%THIS_TEST_FOLDER/requirements.html | filecheck %s --check-prefix CHECK-HTML
CHECK-HTML: SPDX requirements
CHECK-HTML: SPDX_DOC/src/example/example.c/example_1
CHECK-HTML: src/example/example.c, <i>lines: 3-18</i>, function example_1()

RUN: %cat %T/html/_source_files/src/example/example.c.html | filecheck %s --check-prefix CHECK-SOURCE-FILE

CHECK-SOURCE-FILE: SPDX_DOC/src/example/example.c/example_1

RUN: %cat %T/html/source_coverage.html | filecheck %s --check-prefix CHECK-SOURCE-COVERAGE
CHECK-SOURCE-COVERAGE: 94.1
